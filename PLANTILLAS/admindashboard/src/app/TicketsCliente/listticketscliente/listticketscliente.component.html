<main id="main" class="main">
    <div class="pagetitle">
      <h1>Tickets</h1>
      <nav>
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a routerLink="/">Principal</a></li>
          <li class="breadcrumb-item">Listados</li>
          <li class="breadcrumb-item active">Tickets Cliente</li>
        </ol>
      </nav>
    </div>
  
    <section class="section">
      <div class="row">
        <div class="col-lg-12">
          <div class="card">
            <div class="card-header" style="padding: 0; position: relative">
              <div
                class="banner"
                style="
                  background-image: url('/assets/img/BANNERS/BANNER-TICKETS.png');
                  border-top-left-radius: 10px;
                  border-top-right-radius: 10px;
                  background-size: cover;
                  background-position: center;
                  height: 0;
                  padding-bottom: 22%; /* Ajusta este valor según la relación de aspecto de tu imagen */
                "
              ></div>
              <div
                class="overlay"
                style="position: absolute; top: 0; bottom: 0; left: 0; right: 0"
              ></div>
            </div>
            <div class="card-body">
              <div class="row ms-4 col-11">
                <button
                  class="ov-btn-grow-primary mt-3 col-2"
                  style="height: 2.4rem; margin-left: 0"
                  routerLink="/createticketsclientes"
                >
                  <i class="fas fa-plus-circle mr-1"></i>
                  Agregar
                </button>
  
                <div class="search-bar mt-3 col-10">
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Buscar..."
                    [(ngModel)]="filtro"
                  />
                </div>
              </div>
              <table
                class="table table-hover"
                style="margin-top: 20px; margin-left: 10px; margin-right: 10px"
              >
                <thead>
                  <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Ticket ID</th>
                    <th scope="col">Tipo de Ticket</th>
                    <th scope="col">Cliente</th>
                    <th scope="col">Cantidad</th>
                    <th scope="col">Fecha Compra</th>
                    <th scope="col">Fecha Uso</th>
                    <th scope="col">Acciones</th>
                  </tr>
                </thead>
                <tbody>
                  <tr
                    *ngFor="
                      let item of filtrarTickets()
                        | paginate : { itemsPerPage: 10, currentPage: p }
                    "
                  >
                    <th scope="row">{{ item.ticl_ID }}</th>
                    <td>{{ item.tckt_ID }}</td>
                    <td>{{ item.tckt_Nombre }}</td>
                    <td>{{ item.clie_Nombres }}</td>
                    <td>{{ item.ticl_Cantidad }}</td>
                    <td>{{ item.ticl_FechaCompra }}</td>
                    <td>{{ item.ticl_FechaUso }}</td>
                    <td>
                      <button class="ov-btn-grow-primary mt-3 col-2"  
                              style="height: 2.4rem; width: 110px; margin-left: 10px">
                              <i class="bi bi-pen-fill"></i> Editar
                      </button>
                      <button
                      class="ov-btn-grow-d mt-3 col-2"  
                      style="height: 2.4rem; width: 110px; margin-left: 10px"
                        data-bs-toggle="modal"
                        data-bs-target="#verticalycentered"
                        (click)="GuardarId(item)"
                      >
                        <i class="bi bi-trash-fill"></i> Eliminar
                      </button>
                      <button class="ov-btn-grow-u mt-3 col-2"  
                      style="height: 2.4rem; width: 110px; margin-left: 10px">
                        <i class="bi bi-newspaper"></i> Detalles
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
              <div class="pagination d-flex justify-content-center mt-4">
                <pagination-controls
                  (pageChange)="p = $event"
                  previousLabel="Anterior"
                  nextLabel="Siguiente"
                  firstLabel="Primera"
                  lastLabel="Última"
                  screenReaderPaginationLabel="Paginación"
                  screenReaderPageLabel="Página"
                  screenReaderCurrentLabel="Página actual"
                >
                </pagination-controls>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal fade" id="verticalycentered" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-body" style="text-align: center;">
              <h5 style="text-align: center; margin-top: 20px;"><b>¿Desea eliminar este registro?</b></h5>
              <img src="https://media0.giphy.com/media/ZyvTZ5ErOd1XyoKa0h/giphy.gif?cid=6c09b952125055d34915c1cdd5fb9e29241e377dbf424c5d&ep=v1_internal_gifs_gifId&rid=giphy.gif&ct=s" style="width: 100px; height: 100px; margin-right: 30px; text-align: center;" alt="Warning Sign">
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-danger" data-bs-dismiss="modal" >Confirmar</button>
              <button type="button" class="btn btn-dark" data-bs-dismiss="modal" >Cerrar</button>
            </div>
          </div>
        </div>
      </div>    
    </section>
  </main>
  
