<main id="main" class="main">
    <div class="pagetitle">
       <h1>Ventas</h1>
       <nav>
          <ol class="breadcrumb">
             <li class="breadcrumb-item"><a routerLink="/dashboard">Inicio</a></li>
             <li class="breadcrumb-item">Listados</li>
             <li class="breadcrumb-item active">Ventas</li>
          </ol>
       </nav>
    </div>
    <section class="section">
       <div class="row">
          <div class="col-lg-12">
             <div class="card">
                <div class="card-header" style="padding: 0; position: relative">
                   <div
                     class="banner"
                     style="
                       background-image: url('/assets/img/BANNERS-VR-FINAL/VENTAS-QUIOSCOS.png');
                       border-top-left-radius: 10px;
                       border-top-right-radius: 10px;
                       background-size: contain;
                       background-position: center;
                       height: 0;
                       padding-bottom: 23%; /* Ajusta este valor según la relación de aspecto de tu imagen */"
                   ></div>
                   <div
                     class="overlay"
                     style="position: absolute; top: 0; bottom: 0; left: 0; right: 0"
                   ></div>
                </div>
                <div class="card-body">
                  <div class="row ms-1">
                     <div class="row">
                        <button (click)="Agregar()" class="ov-btn-grow-primary mb-2 mt-3 col-2" style="height: 2.4rem; margin-left: 0;">
                          <i class="fas fa-plus-circle mr-1"></i> <label class="ms-1">Nuevo</label>
                       </button>
                       <div class="search-bar mt-3 col-6">
                          <input
                            type="text"
                            class="form-control"
                            placeholder="Buscar..."
                            [(ngModel)]="filtro"
                          />
                        </div>    
                        <div class="col-4 mt-3">                                                                          
                           <div class="input-group" style="height: 2.4rem;">                                       
                               <label style="margin-top: 0.5rem; margin-right: 0.5rem; font-weight: bold  ;">Registros por página:</label>
                              <span class="input-group-text"><i class="bi bi-filter-square-fill" style="color: blueviolet;"></i></span>
                              <select id="pageSize" class="form-select" [(ngModel)]="selectedPageSize" >
                                 <option *ngFor="let pageSize of pageSizeOptions" [value]="pageSize">{{ pageSize }}</option>
                              </select>
                           </div>                                                                        
                        </div>              
                     </div>
                     <div class="row">
                        <table
                        class="table table-hover table-striped mt-2"                       
                      >
                        <thead>
                          <tr>
                            <th scope="col">Venta #</th>
                            <th scope="col">Método de pago</th>
                            <th scope="col">Cliente</th>
                            <th scope="col">Fecha</th>
                            <th scope="col">Acciones</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr
                            *ngFor="
                              let item of filtrarVentas()
                                | paginate : { itemsPerPage: selectedPageSize, currentPage: p }
                            "
                          >

                            <th scope="row">{{ item.vent_ID }}</th>
                            <td>{{ item.pago_Nombre }}</td>
                            <td>{{ item.clie_Nombres + ' ' + item.clie_Apellidos}}</td>
                            <td>{{ item.vent_FechaCreacion }}</td>
          
                            <td>
                              <button
                                class="ov-btn-grow-u"
                                (click)="onEdit(item)"
                                style="margin-left: 10px; height: 2.5rem;"
                              >
                                <i class="bi bi-pen-fill"></i> Editar
                              </button>
                              <button (click)="onDetail(item)" class="ov-btn-grow-primary" style="margin-left: 10px; height: 2.5rem;">
                                 <i class="bi bi-newspaper"></i> Detalles
                              </button>
                              <button
                                class="ov-btn-grow-d"
                                style="margin-left: 10px; height: 2.5rem;"
                                data-bs-toggle="modal"
                                data-bs-target="#verticalycentered"
                                (click)="onDelete(item)"
                              >
                                <i class="bi bi-trash-fill"></i> Eliminar
                              </button>
                            </td>
                          </tr>
                        </tbody>
                      </table>     
                      <div class="pagination d-flex justify-content-center mt-4">
                        <pagination-controls
                          (pageChange)="p = $event"
                          previousLabel="Anterior"
                          nextLabel="Siguiente"
                          firstLabel="Primera"
                          lastLabel="Última"
                          screenReaderPaginationLabel="Paginación"
                          screenReaderPageLabel="Página"
                          screenReaderCurrentLabel="Página actual"
                        >
                        </pagination-controls>
                      </div>                                   
                     </div>
                  </div>

                </div>
             </div>
          </div>
       </div>
    </section>
 </main>
